sudo: false
language: python
addons:
  sauce_connect:
    username: "${SAUCE_USERNAME}"
    access_key: "${SAUCE_ACCESS_KEY}"
python:
  - "3.3"
  - "3.4"
  - "3.5"
  - "nightly"
  - "pypy"
env:
  global:
    - DJANGO_SETTINGS_MODULE=centre_registry_project.debug_staging_settings
  matrix:
    - DJANGO_VERSION=1.8
    - DJANGO_VERSION=1.9
install:
  - pip install Django=="$DJANGO_VERSION"
  - pip install -e 'centre-registry-app/'
  - pip install -r 'centre-registry-app/requirements_test.txt'
script:
  - cd -- Centre-Registry-config/
  - ./manage.py test centre_registry.test_api
  - ./manage.py test centre_registry.test_ui
notifications:
  email:
    on_success: change
    on_failure: always